<!--
  Generated template for the DeptListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>科室列表</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="navCtrl.popToRoot()">
        <ion-icon name="ios-home"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content bg-color-1>
  <ion-searchbar (ionInput)="getItems($event)" placeholder="请输入{{isExpert?'医生':'科室'}}（首字母亦可）" [(ngModel)]="searchValue"></ion-searchbar>
  <ion-list class="dept-list" *ngIf="!searchValue || !isExpert">
    <div *ngFor="let item of searchDepts">
      <div class="item item-divider item-ios item-divider-ios item-ios-light item-divider-ios-light">
        <ion-label style="margin: 0.5rem 1rem 0.5rem 0" title-color-3>{{item.key}}</ion-label>
      </div>
      <ion-item detail-push title-color-1 *ngFor="let item1 of item.list" (click)="clickDept(item1)" tappable>
        {{item1.name}}
      </ion-item>
    </div>
  </ion-list>

  <ion-list *ngIf="searchValue && isExpert">
    <div *ngFor="let item of searchExpert">
      <div class="item item-divider item-ios item-divider-ios item-ios-light item-divider-ios-light">
        <ion-label style="margin: 0.5rem 1rem 0.5rem 0" title-color-3>{{item.key}}</ion-label>
      </div>
      <ion-item detail-push class="expert-item" no-padding *ngFor="let expert of item.list" (click)="selectExpert(expert)" tappable>
        <div class="item-top">
          <div class="image">
            <img [src]="doctorDefail + expert.picName"
                 style="height: 100%; width: 100%">
          </div>
          <div class="title" size-middle title-color-1>{{expert.name}}</div>
          <div class="expert-flag" size-small-2 text-center>
            <span>{{expert.title}}</span>
          </div>
          <div class="detail-title" size-small-2 title-color-2>
            前往<span>专家</span>排班
          </div>
        </div>
        <div class="item-bottom ellipsis" size-small-2 title-color-4>
          {{expert.speciality || expert.introduction}}
        </div>
      </ion-item>
    </div>
  </ion-list>
</ion-content>
